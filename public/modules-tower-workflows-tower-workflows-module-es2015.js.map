{"version":3,"sources":["./src/app/modules/tower-workflows/tower-workflows-routing.module.ts","./src/app/modules/tower-workflows/tower-workflows.component.ts","./src/app/modules/tower-workflows/tower-workflows.component.html","./src/app/modules/tower-workflows/tower-workflows.module.ts"],"names":[],"mappings":"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","file":"modules-tower-workflows-tower-workflows-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TowerWorkflowsComponent } from './tower-workflows.component';\n\nconst routes: Routes = [{ path: '', component: TowerWorkflowsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TowerWorkflowsRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Paginated } from '@feathersjs/feathers';\nimport { Router } from '@angular/router';\nimport { DataService } from '../core/services/data.service';\n\n@Component({\n  selector: 'app-tower-workflows',\n  templateUrl: './tower-workflows.component.html',\n  styleUrls: ['./tower-workflows.component.scss']\n})\nexport class TowerWorkflowsComponent implements OnInit {\n  modules$: Observable<any>;\n\n  service: string = 'api/terraform/modules';\n\n  selected = [];\n\n  addRecord: boolean = false;\n  newRecord = {\n    name: '',\n    description: '',\n    repo: ''\n  };\n\n\n\n  constructor(\n    private dataService: DataService\n  ) { }\n\n  ngOnInit(): void {\n\n    this.modules$ = this.dataService.records$('api/terraform/modules', {})\n      .pipe(\n        map(( r: Paginated<any>) => r.data)\n      )\n  }\n\n  createRecord() {\n    this.dataService.createRecord('api/terraform/modules', this.newRecord)\n      .then( data => {\n        // this.addRecord = false;\n      })\n      .catch(\n        error => {\n\n        }\n      )\n  }\n\n  onAdd() {\n\n    this.addRecord = true;\n\n  }\n\n  onEdit(r) {\n\n  }\n\n  onDelete(r) {\n\n    alert('TODO: Allow deletion of modules while making sure we do not break down stream stacks...')\n\n    // this.dataService.records$('api/terraform/module-variables', {\n    //   _module: r._id\n    // })\n    // .pipe(\n    //   map(( r: Paginated<any>) => r.total)\n    // )\n    // .subscribe( total => {\n    //   if(total == 0) {\n         \n    //   }\n    //   else {\n    //     alert('');\n    //   }\n    // } )\n\n  }\n}\n","<div class=\"module-content-container\">\n  <div class=\"module-header-wrapper\" style=\"border-bottom: 1px solid #cccccc;\">\n    <div class=\"module-header-container\" class=\"flex-container\"  style=\"padding: 15px;\">\n\n      <div class=\"module-branding\">\n        <div class=\"module-brand\">\n          <clr-icon class=\"is-solid\" style=\"margin-right: 10px;\" shape=\"ansible\"></clr-icon>\n          <span class=\"module-title\">\n            Tower Workflows\n          </span>\n        </div>\n      </div>\n\n      <div class=\"module-nav\" style=\"margin-left: 25px;\">\n        <!-- <a href=\"javascript://\" class=\"nav-link nav-icon\">\n          <clr-icon shape=\"plus-circle\" class=\"is-solid\"></clr-icon>\n        </a> -->\n      </div>\n\n    </div>\n\n  </div>\n\n\n  <div class=\"module-content-area\" style=\"padding: 10px;\">\n\n\n    <app-records-list-view [table]=\"'towerWorkflows'\"></app-records-list-view>\n\n  \n  </div>\n\n</div>\n\n<clr-modal [(clrModalOpen)]=\"addRecord\">\n  <h3 class=\"modal-title\">Add Module</h3>\n  <div class=\"modal-body\">\n    <form clrForm>\n      <clr-input-container>\n          <label class=\"clr-col-12 clr-col-md-3\">Name</label>\n          <input class=\"clr-col-12 clr-col-md-9\" clrInput type=\"text\" [(ngModel)]=\"newRecord.name\" name=\"name\" required />\n          <clr-control-helper>The name of the Module displayed to users in the catalog and workflow designer.</clr-control-helper>\n          <!-- <clr-control-error>Error message that appears after focus is lost and control is invalid</clr-control-error> -->\n      </clr-input-container>\n      <clr-input-container>\n        <label class=\"clr-col-12 clr-col-md-3\">Repo</label>\n        <input class=\"clr-col-12 clr-col-md-9\" clrInput type=\"text\" [(ngModel)]=\"newRecord.repo\" name=\"repo\" required />\n        <clr-control-helper>The Git repository for this module.</clr-control-helper>\n        <!-- <clr-control-error>Error message that appears after focus is lost and control is invalid</clr-control-error> -->\n      </clr-input-container>\n      <clr-textarea-container>\n        <label class=\"clr-col-12 clr-col-md-3\">Description</label>\n        <textarea class=\"clr-col-12 clr-col-md-9\" clrTextarea [(ngModel)]=\"newRecord.description\" name=\"description\" required></textarea>\n        <clr-control-helper>A useful description of this module, displayed to users in the workflow designer to provide context.</clr-control-helper>\n        <!-- <clr-control-error>Error message that appears after focus is lost and control is invalid</clr-control-error> -->\n      </clr-textarea-container>\n    </form>\n  </div>\n  <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline\" (click)=\"addRecord = false\">Cancel</button>\n      <button type=\"button\" class=\"btn btn-primary\" (click)=\"createRecord()\">Ok</button>\n  </div>\n</clr-modal>\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TowerWorkflowsRoutingModule } from './tower-workflows-routing.module';\nimport { TowerWorkflowsComponent } from './tower-workflows.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ClarityModule } from '@clr/angular';\n\n\n@NgModule({\n  declarations: [TowerWorkflowsComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ClarityModule,\n    TowerWorkflowsRoutingModule\n  ]\n})\nexport class TowerWorkflowsModule { }\n"],"sourceRoot":"webpack:///"}